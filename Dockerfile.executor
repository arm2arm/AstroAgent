# Dockerfile.executor â€” pre-built execution sandbox for AstroAgent
# Build: docker build -f Dockerfile.executor -t astroagent-exec .
# Used when EXEC_MODE=dockerfile in .env
FROM python:3.12-slim

# System dependencies for matplotlib rendering (Agg backend)
RUN apt-get update && apt-get install -y --no-install-recommends \
    gcc g++ libffi-dev && \
    rm -rf /var/lib/apt/lists/*

# Pre-install scientific Python stack so per-run installs are instant
RUN pip install --no-cache-dir \
    numpy pandas matplotlib astropy scipy fastapi

WORKDIR /workspace
